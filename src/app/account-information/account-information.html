<div class="acc-info-wrapper">
    <div class="acc-info-card">
        <form #infoForm="ngForm" (ngSubmit)="saveChanges()" *ngIf="editableUser">
            <!-- Họ và tên -->
            <div class="form-row">
                <label class="form-label">Họ và tên</label>
                <input class="form-control" type="text" name="full_name" [(ngModel)]="editableUser.full_name"
                    [readonly]="!isEditing" required />
                <p class="form-hint">Họ và tên của bạn cũng sẽ hiển thị như tên hồ sơ.</p>
            </div>

            <!-- Hàng: Email + Số điện thoại -->
            <div class="grid-2">
                <div class="form-col">
                    <label class="form-label">Email</label>
                    <input class="form-control" type="email" name="email" [(ngModel)]="editableUser.email"
                        [readonly]="!isEditing" placeholder="email@domain.com" required />
                </div>

                <div class="form-col">
                    <label class="form-label">Số điện thoại</label>
                    <input class="form-control" type="tel" name="phone_number" [(ngModel)]="editableUser.phone_number"
                        [readonly]="!isEditing" inputmode="tel" pattern="^[0-9+()\\s-]{8,}$"
                        placeholder="Ví dụ: +84 912 345 678" required />
                </div>
            </div>

            <!-- Hàng: Giới tính + Ngày sinh -->
            <div class="grid-2">
                <div class="form-col">
                    <label class="form-label">Giới tính</label>
                    <select class="form-control form-select" name="gender" [(ngModel)]="editableUser.gender"
                        [disabled]="!isEditing">
                        <option value="" disabled>— Chọn giới tính —</option>
                        <option value="Nam">Nam</option>
                        <option value="Nữ">Nữ</option>
                        <option value="Khác">Khác</option>
                    </select>
                </div>

                <div class="form-col">
                    <label class="form-label">Ngày sinh</label>
                    <input class="form-control" type="text" name="birthdate" [(ngModel)]="editableUser.birthdate"
                        [readonly]="!isEditing" placeholder="dd-mm-yyyy" />
                </div>
            </div>

            <!-- Thành phố cư trú (full width) -->
            <div class="form-row">
                <label class="form-label">Thành phố cư trú</label>
                <input class="form-control" type="text" name="city" [(ngModel)]="editableUser.city"
                    [readonly]="!isEditing" placeholder="Nhập thành phố" />
            </div>

            <!-- Nút chức năng -->
            <div class="btn-bar">
                <button type="button" class="btn-outline" [disabled]="!isEditing" (click)="isEditing && cancelEdit()">
                    Để sau
                </button>

                <button type="button" class="btn-primary" *ngIf="!isEditing" (click)="enableEdit()">
                    Chỉnh sửa
                </button>

                <button type="submit" class="btn-primary" *ngIf="isEditing">
                    Lưu
                </button>
            </div>
        </form>
    </div>
</div>